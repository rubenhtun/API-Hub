const searchInput = document.getElementById("searchInput"),
  searchButton = document.getElementById("searchButton"),
  results = document.getElementById("results"),
  Mov_Web_API_KEY = "7375868b";
searchButton.addEventListener("click", async () => {
  let e = searchInput.value.trim();
  if (e)
    try {
      let t = await fetch(`https://www.omdbapi.com/?apikey=7375868b&s=${e}`);
      if (!t.ok) throw Error("Failed to fetch DATA!");
      let s = await t.json();
      console.log(s),
        "True" === s.Response
          ? movieDisplay(s.Search)
          : (results.innerHTML = `<p class="text-red-500">"${e}" ဆိုသည့်ရလဒ်မရှိပါ!</p>`);
    } catch (r) {
      console.log("Error: ", r),
        (results.innerHTML = `<p class="text-red-500">အမှားတစ်ခုဖြစ်ပွားနေပါသည်: ${r.message}</p>`);
    }
  else
    results.innerHTML = `<p class="text-red-500">ကျေးဇူးပြု၍ ရှာဖွေရန်စကားလုံးရိုက်ထည့်ပါ။</p>`;
});
const movieDisplay = (e) => {
  results.innerHTML = e
    .map(
      (e) => `
    <div class="bg-white shadow-md rounded p-4">
      <img
        src="${
          "N/A" !== e.Poster ? e.Poster : "https://via.placeholder.com/150"
        }"
        alt="${e.Title}"
        class="w-full h-64 object-cover rounded mb-4"
      />
      <h2 class="text-xl font-bold">${e.Title}</h2>
      <p class="text-gray-600">Year: ${e.Year}</p>
      <p class="text-gray-500">Type: ${e.Type}</p>
    </div>
  `
    )
    .join("");
};
