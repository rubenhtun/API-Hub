const convertCurrency = async () => {
  let e = document.getElementById("amount").value,
    r = document.getElementById("sourceCurrency").value,
    t = document.getElementById("targetCurrency").value,
    n = document.getElementById("result"),
    a = `https://v6.exchangerate-api.com/v6/d7fb994f3b0eab016e673830/latest/${r}`;
  try {
    let o = await fetch(a);
    if (!o.ok) throw Error("Network response was not ok!");
    let s = await o.json();
    if (s.conversion_rates) {
      let l = s.conversion_rates[t],
        c = e * l;
      n.innerHTML = c.toFixed(2);
    } else n.innerHTML = "Conversion failed. Please try again!";
  } catch (i) {
    console.error("Error:", i),
      (n.innerHTML = "An error occurred. Please try again!");
  }
};
